"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var n=t(e),a=function(e,t){return void 0===t&&(t=!1),t?function(e){return"undefined"!=typeof navigator?navigator.language.split("-")[0]:e}(e):e},r=function(){return(r=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function u(e,t,n){var a=e.locale,u=e.languages,o=e.defaultLanguage,l=u[a]?a:o,c=u[l],i=t;if(n&&Object.keys(n).includes("count")){var s=new Intl.PluralRules(l).select(n.count);i=0===n.count?"".concat(t,".zero"):"other"===s?"".concat(t,".many"):"".concat(t,".").concat(s)}if(i.split(".").forEach((function(e){if(c[e])return c=c[e]})),"string"!=typeof c)return console.warn("Talkr: Missing translation for ".concat(t)),null;var g=n&&Object.entries(n).reduce((function(e,t){var n;return r(r({},e),((n={})[t[0]]=t[1].toString(),n))}),{});return g?c.split("__").map((function(e){return g[e]?g[e]:e})).join(""):c}var o=e.createContext({locale:"",setLocale:function(){return null},languages:{},defaultLanguage:""});exports.Talkr=function(t){var r=t.children,u=t.languages,l=t.defaultLanguage,c=t.detectBrowserLanguage,i=e.useState(a(l,c)),s=i[0],g=i[1];return n.createElement(o.Provider,{value:{locale:s,setLocale:g,languages:u,defaultLanguage:l}},r)},exports.TalkrContext=o,exports.tr=u,exports.useT=function(){var t=e.useContext(o),n=t.locale,a=t.languages,r=t.defaultLanguage,l=t.setLocale;return{languages:a,defaultLanguage:r,locale:n,setLocale:l,T:function(e,t){return u({locale:n,languages:a,defaultLanguage:r},e,t)}}};
