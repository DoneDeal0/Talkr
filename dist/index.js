"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var n=t(e),r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var o=function(e,t){return void 0===t&&(t=!1),t?function(e){return"undefined"!=typeof navigator?navigator.language.split("-")[0]:e}(e):e};function a(e,t,n){var r=e.locale,o=e.languages,a=e.defaultLanguage,u=e.showWarning,l=void 0===u||u,c=o[r]?r:a,i=o[c],s=t;if(n&&Object.keys(n).includes("count")){var f=function(e,t){return"object"==typeof Intl&&"function"==typeof Intl.PluralRules?new Intl.PluralRules(t).select(e):0===e?"zero":1===e?"one":"other"}(n.count,c);s+=0===n.count?".zero":"other"===f?".many":".".concat(f)}return n&&n.gender&&(s+="m"===n.gender?".male":".female"),s.split(".").forEach((function(e){if(i[e])return i=i[e]})),"string"!=typeof i?(l&&console.warn("Talkr: Missing translation for ".concat(t)),""):n?i.split("__").map((function(e){return n[e]||e})).join(""):i}var u=e.createContext({locale:"",setLocale:function(){return null},languages:{},defaultLanguage:"",showWarning:!0});exports.Talkr=function(t){var r=t.children,a=t.languages,l=t.defaultLanguage,c=t.detectBrowserLanguage,i=t.showWarning,s=void 0===i||i,f=e.useState(o(l,c)),g=f[0],p=f[1];return n.createElement(u.Provider,{value:{locale:g,setLocale:p,languages:a,defaultLanguage:l,showWarning:s}},r)},exports.TalkrContext=u,exports.tr=a,exports.useT=function(){var t=e.useContext(u),n=t.setLocale,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["setLocale"]);return r(r({},o),{setLocale:n,T:function(e,t){return a(o,e,t)}})};
