"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var r=t(e),n=function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var o=function(e,t){return void 0===t&&(t=!1),t?function(e){return"undefined"!=typeof navigator?navigator.language.split("-")[0]:e}(e):e};function a(e,t,r){var n=e.locale,o=e.languages,a=e.defaultLanguage,u=o[n]?n:a,l=o[u],c=t;if(r&&Object.keys(r).includes("count")){var f=function(e,t){return"object"==typeof Intl&&"function"==typeof Intl.PluralRules?new Intl.PluralRules(t).select(e):0===e?"zero":1===e?"one":"other"}(r.count,u);c+=0===r.count?".zero":"other"===f?".many":".".concat(f)}return r&&r.gender&&(c+="m"===r.gender?".male":".female"),c.split(".").forEach((function(e){if(l[e])return l=l[e]})),"string"!=typeof l?(console.warn("Talkr: Missing translation for ".concat(t)),""):r?l.split("__").map((function(e){return r[e]||e})).join(""):l}var u=e.createContext({locale:"",setLocale:function(){return null},languages:{},defaultLanguage:""});exports.Talkr=function(t){var n=t.children,a=t.languages,l=t.defaultLanguage,c=t.detectBrowserLanguage,f=e.useState(o(l,c)),i=f[0],s=f[1];return r.createElement(u.Provider,{value:{locale:i,setLocale:s,languages:a,defaultLanguage:l}},n)},exports.TalkrContext=u,exports.tr=a,exports.useT=function(){var t=e.useContext(u),r=t.setLocale,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(t,["setLocale"]);return n(n({},o),{setLocale:r,T:function(e,t){return a(o,e,t)}})};
