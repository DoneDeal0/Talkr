"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var r=t(e),n=function(e,t){return void 0===t&&(t=!1),t?function(e){return"undefined"!=typeof navigator?navigator.language.split("-")[0]:e}(e):e},a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var u=e.createContext({locale:"",setLocale:function(){return null},languages:{},defaultLanguage:""});exports.T=function(t,r){var n=e.useContext(u),o=n.locale,l=n.languages,c=n.defaultLanguage,i=l[o]?o:c,s=l[i],f=t;if(r&&Object.keys(r).includes("count")){var g=new Intl.PluralRules(i).select(r.count);f=0===r.count?t+".zero":"other"===g?t+".many":t+"."+g}if(f.split(".").forEach((function(e){if(s[e])return s=s[e]})),"string"!=typeof s)return console.warn("Talkr: Missing translation for "+t),null;var p=r&&Object.entries(r).reduce((function(e,t){var r;return a(a({},e),((r={})[t[0]]=t[1].toString(),r))}),{});return p?s.split("__").map((function(e){return p[e]?p[e]:e})).join(""):s},exports.Talkr=function(t){var a=t.children,o=t.languages,l=t.defaultLanguage,c=t.detectBrowserLanguage,i=e.useState(n(l,c)),s=i[0],f=i[1];return r.createElement(u.Provider,{value:{locale:s,setLocale:f,languages:o,defaultLanguage:l}},a)},exports.TalkrContext=u,exports.useLocale=function(){return e.useContext(u)};
