import*as n from"react";import{useContext as e,createContext as t,useState as r}from"react";var a=function(n,e){return void 0===e&&(e=!1),e?function(n){return"undefined"!=typeof navigator?navigator.language.split("-")[0]:n}(n):n},u=function(){return(u=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}).apply(this,arguments)};function o(n,t){var r=e(l),a=r.locale,o=r.languages,i=r.defaultLanguage,c=o[a]?a:i,f=o[c],g=n;if(t&&Object.keys(t).includes("count")){var s=new Intl.PluralRules(c).select(t.count);g=0===t.count?n+".zero":"other"===s?n+".many":n+"."+s}if(g.split(".").forEach((function(n){if(f[n])return f=f[n]})),"string"!=typeof f)return console.warn("Talkr: Missing translation for "+n),null;var p=t&&Object.entries(t).reduce((function(n,e){var t;return u(u({},n),((t={})[e[0]]=e[1].toString(),t))}),{});return p?f.split("__").map((function(n){return p[n]?p[n]:n})).join(""):f}var l=t({locale:"",setLocale:function(){return null},languages:{},defaultLanguage:""});function i(e){var t=e.children,u=e.languages,o=e.defaultLanguage,i=e.detectBrowserLanguage,c=r(a(o,i)),f=c[0],g=c[1];return n.createElement(l.Provider,{value:{locale:f,setLocale:g,languages:u,defaultLanguage:o}},t)}function c(){return e(l)}export{o as T,i as Talkr,l as TalkrContext,c as useLocale};
