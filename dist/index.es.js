import*as e from"react";import{createContext as n,useState as t,useContext as r}from"react";var a=function(){return(a=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)};var o=function(e,n){return void 0===n&&(n=!1),n?function(e){return"undefined"!=typeof navigator?navigator.language.split("-")[0]:e}(e):e};function c(e,n,t){var r=e.locale,a=e.languages,o=e.defaultLanguage,c=a[r]?r:o,l=a[c],u=n;if(t&&Object.keys(t).includes("count")){var i=new Intl.PluralRules(c).select(t.count);u=0===t.count?"".concat(n,".zero"):"other"===i?"".concat(n,".many"):"".concat(n,".").concat(i)}return u.split(".").forEach((function(e){if(l[e])return l=l[e]})),"string"!=typeof l?(console.warn("Talkr: Missing translation for ".concat(n)),null):t?l.split("__").map((function(e){return t[e]||e})).join(""):l}var l=n({locale:"",setLocale:function(){return null},languages:{},defaultLanguage:""});function u(n){var r=n.children,a=n.languages,c=n.defaultLanguage,u=n.detectBrowserLanguage,i=t(o(c,u)),f=i[0],s=i[1];return e.createElement(l.Provider,{value:{locale:f,setLocale:s,languages:a,defaultLanguage:c}},r)}function i(){var e=r(l),n=e.setLocale,t=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}(e,["setLocale"]);return a(a({},t),{setLocale:n,T:function(e,n){return c(t,e,n)}})}export{u as Talkr,l as TalkrContext,c as tr,i as useT};
